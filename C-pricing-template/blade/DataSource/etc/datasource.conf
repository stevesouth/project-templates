#
# Template Adapter configuration.
#

#
# DO NOT EDIT THIS FILE !!!
#
#
# If you need to change any configuration, do so by updating
#
#    global_config/overrides/${ADAPTER_NAME}/DataSource/etc/datasource.conf
#    global_config/overrides/${ADAPTER_NAME}/DataSource/etc/environment.conf
#

application-name                ${ADAPTER_NAME}

#
# Include base configuration.
#
include-file                    "${ENV:CONFIG_BASE}/bootstrap.conf"

#
# Template specific definitions
#
include-file                    "${ENV:CONFIG_BASE}/overrides/${ADAPTER_NAME}/DataSource/etc/environment.conf"

#
# Fields file.
#
include-file                    "../../blade_config/fields.conf"

#
# Peer configuration
#
datasrc-name                        Template${THIS_LEG}
datasrc-local-label                 Template${THIS_LEG}

add-peer
	local-type                  active
        remote-name                 transformer${THIS_LEG}
	addr                       ${TRANSFORMER${THIS_LEG}_HOST}
        port                       ${TRANSFORMER${THIS_LEG}_DATASRCPORT}
        heartbeat-time              15
        heartbeat-slack-time        5
end-peer

if "${FAILOVER}" == "ENABLED"
    add-peer
            local-type              active
            remote-name             transformer${OTHER_LEG}
            addr                   ${TRANSFORMER${OTHER_LEG}_HOST}
            port                   ${TRANSFORMER${OTHER_LEG}_DATASRCPORT}
            heartbeat-time          15
            heartbeat-slack-time    5
    end-peer
endif

#
# Include blade configuration.
#
include-file                      "${BASE}/active_blades/*/${ADAPTER_NAME}/etc/datasource.conf"

#
# Include override configuration..
#
include-file                      "${BASE}/global_config/overrides/${ADAPTER_NAME}/DataSource/etc/datasource.conf"

include-file                      ${ccd}/java.conf

#
# Default the packet log wrapping
#
add-log
	name                      packet_log
        period                    15
        suffix                    .%u%H%M
end-log
