#
#  Java configuration for the Template Adapter.
#
#

#
# DO NOT EDIT THIS FILE !!!
#
#
# If you need to change any Java configuration, do so by updating
#
#    global_config/overrides/${ADAPTER_NAME}/DataSource/etc/java.conf
#    global_config/overrides/${ADAPTER_NAME}/DataSource/etc/environment.conf
#

#
# File where the ports etc are defined
#
include-file             "${BASE}/global_config/overrides/${ADAPTER_NAME}/DataSource/etc/environment.conf"

jvm-location             "${JVM_LOCATION}"

jvm-global-classpath     %r/lib/java/common-jmx.jar
jvm-global-classpath     %r/lib/java/jmx-default-classloader.jar

jvm-options              -Djava.naming.factory.initial=com.sun.jndi.rmi.registry.RegistryContextFactory

if "x${${ADAPTER_NAME}${THIS_LEG}_JMX_RMI_SERVER_HOSTNAME}" != "xNOT_DEFINED"
   jvm-options           -Djava.rmi.server.hostname=${${ADAPTER_NAME}${THIS_LEG}_JMX_RMI_SERVER_HOSTNAME}
endif

# Definition of the JMX class
add-javaclass
        class-name       com.caplin.management.jmx.JMXController
        class-id         jmx
        classpath        %r/lib/java/jmx-child-classloader.jar
        classpath        %r/lib/java/common-jmx.jar
end-javaclass

#
# Include override configuration.
#
include-file            "${BASE}/global_config/overrides/${ADAPTER_NAME}/DataSource/etc/java.conf"
